---
- hosts: localhost
  gather_facts: no
  user: root

  vars:
    ansible_realm_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65323964633235393665363230613862346134313732303664346534313434336266623963663765
          3238663330313435653830326431313935323563346366610a346532663665643531316337333962
          39326266313762336339303634336438653364363466333064356231333635333332303539653339
          6264653939396161640a356131616439346366646464353532663263623737313939633934326634
          62343234386361393863393336346138343762626562366334363161346231323532
    domain_full_lowercase: "home.local"
    adauth_username: "svc_build@{{ domain_full_lowercase }}"
    vcenter_server: "vcs01.home.local"

  vars_prompt:
    - name: "vm_name"
      prompt: "What is the VM's name?"
      private: no

  roles:
     - configure_vmware

- hosts: build
  user: root

  vars:
    ansible_ssh_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38643237383239616364396638333465393537316661333437386633353333653631623264323761
          3831316565313062313761313932623663653438306563360a393266363938656662343237326535
          37366132656463323131633031633336323866623531333434636533343931653236663264396437
          6635323632313035360a316535666135326137326363623966633038636237636538616563623862
          3031
    ansible_realm_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65323964633235393665363230613862346134313732303664346534313434336266623963663765
          3238663330313435653830326431313935323563346366610a346532663665643531316337333962
          39326266313762336339303634336438653364363466333064356231333635333332303539653339
          6264653939396161640a356131616439346366646464353532663263623737313939633934326634
          62343234386361393863393336346138343762626562366334363161346231323532
    domain_full_lowercase: "home.local"
    adauth_username: "svc_build@{{ domain_full_lowercase }}"
    vcenter_server: "vcs01.home.local"

  roles:
     - configure_packages
     - configure_activedirectory
     - configure_security 
     - configure_network
     
     
